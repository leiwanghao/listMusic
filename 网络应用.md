### 1）axios基本使用

使用前要先引入相关的axios文件

![image-20210423131250253](D:\l2352\Typora\images\image-20210423131250253.png)

##### 获取get方法

![image-20210423131404628](D:\l2352\Typora\images\image-20210423131404628.png)

第一个function是获取成功之后显示的内容，第二个内容是获取失败的内容，里面的参数是不可以改变的

![image-20210423131603571](D:\l2352\Typora\images\image-20210423131603571.png)

如果需要查询参数在地址后面跟上查询字符串

##### 获取post方法

![image-20210423131802818](D:\l2352\Typora\images\image-20210423131802818.png)

和上面一样 但是是通过对象的方法获取

##### 两个举例接口

![image-20210423131913188](D:\l2352\Typora\images\image-20210423131913188.png)

### axios+vue

axios回调函数中的this已经改变，需要更改，可以在前面定义一个 `var that=this;`

![image-20210423142716512](D:\l2352\Typora\images\image-20210423142716512.png)

输入`this.Joke`输出的是空置  所以要定义that

### 天气案例

#### 1）回车查询

![image-20210423163227597](D:\l2352\Typora\images\image-20210423163227597.png)

city 表示搜索框内输入的城市

weatherList表示天气信息

`response.data.data.forecast`     .表达在这个子目录里面

#### 2）点击自带城市查询

添加点击事件

![image-20210423164735379](D:\l2352\Typora\images\image-20210423164735379.png)

只需要调用函数即可

![image-20210423164646117](D:\l2352\Typora\images\image-20210423164646117.png)

因为后面要调用city所以不能把city给忘记

#### 3）点击搜索查询天气

只要调用函数即可

![image-20210423165135383](D:\l2352\Typora\images\image-20210423165135383.png)

### 听歌案例

#### 1）搜索歌曲

![image-20210423172814776](D:\l2352\Typora\images\image-20210423172814776.png)

引入歌曲搜索接口将搜索下来的歌曲循环到左侧

#### 2）获取歌曲地址

![image-20210424092041805](D:\l2352\Typora\images\image-20210424092041805.png)

点击播放按钮先获取歌曲的id

![image-20210424092142259](D:\l2352\Typora\images\image-20210424092142259.png)

然后触发事件，获取这个歌曲的url

#### 3）获取歌曲封面

![image-20210424150852389](D:\l2352\Typora\images\image-20210424150852389.png)

因为要获取到这个歌曲的id所以不需要重新定义函数，可以直接写到下面

#### 4)获取热门评论

![image-20210424154458173](D:\l2352\Typora\images\image-20210424154458173.png)

和上面的一样，都是写在musicId里面

![image-20210424154548024](D:\l2352\Typora\images\image-20210424154548024.png)

利用v-for将里面的数据打印到用户评论里面

#### 5）播放动画

![image-20210424163030333](D:\l2352\Typora\images\image-20210424163030333.png)

首先在audio里面定义点击事件，

第一次打开不允许动画

![image-20210424163158160](D:\l2352\Typora\images\image-20210424163158160.png)

然后点击就允许动画，暂停就停止动画

![image-20210424163115182](D:\l2352\Typora\images\image-20210424163115182.png)

旋转动画在css里写的

#### 6）播放mv和关闭mv

要先获取mv的id可以通过上面的response查看

绑定事件，按下mv按钮打开遮罩层播放mv，

鼠标点击mv外面隐层mv，停止播放

![image-20210424175321531](D:\l2352\Typora\images\image-20210424175321531.png)

用`v-if`判断是不是有mv

![image-20210424175048871](D:\l2352\Typora\images\image-20210424175048871.png)

